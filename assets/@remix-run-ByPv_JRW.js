/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}var p;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(p||(p={}));const E="popstate";function k(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:c="",hash:l=""}=A(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),P("",{pathname:o,search:c,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let l=i.location.href,f=l.indexOf("#");c=f===-1?l:l.slice(0,f)}return c+"#"+(typeof s=="string"?s:b(s))}function n(i,s){R(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return W(t,r,n,e)}function M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U(){return Math.random().toString(36).substr(2,8)}function H(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,r,n){return r===void 0&&(r=null),x({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?A(t):t,{state:r,key:t&&t.key||n||U()})}function b(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function A(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function W(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,c=p.Pop,l=null,f=g();f==null&&(f=0,o.replaceState(x({},o.state,{idx:f}),""));function g(){return(o.state||{idx:null}).idx}function S(){c=p.Pop;let a=g(),u=a==null?null:a-f;f=a,l&&l({action:c,location:d.location,delta:u})}function C(a,u){c=p.Push;let h=P(d.location,a,u);r&&r(h,a),f=g()+1;let w=H(h,f),y=d.createHref(h);try{o.pushState(w,"",y)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;i.location.assign(y)}s&&l&&l({action:c,location:d.location,delta:1})}function I(a,u){c=p.Replace;let h=P(d.location,a,u);r&&r(h,a),f=g();let w=H(h,f),y=d.createHref(h);o.replaceState(w,"",y),s&&l&&l({action:c,location:d.location,delta:0})}function m(a){let u=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof a=="string"?a:b(a);return h=h.replace(/ $/,"%20"),M(u,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,u)}let d={get action(){return c},get location(){return e(i,o)},listen(a){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E,S),l=a,()=>{i.removeEventListener(E,S),l=null}},createHref(a){return t(i,a)},createURL:m,encodeLocation(a){let u=m(a);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:C,replace:I,go(a){return o.go(a)}};return d}var O;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O||(O={}));function q(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const L=["post","put","patch","delete"];new Set(L);const j=["get",...L];new Set(j);export{p as A,k as c,M as i,A as p,q as s};
