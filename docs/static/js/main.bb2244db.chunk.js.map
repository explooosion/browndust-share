{"version":3,"sources":["service/Cookies.js","i18n.js","models/Settings.js","reducers/settings.js","models/Dataset.js","models/Formation.js","config/api.js","utils/index.js","reducers/dataset.js","reducers/index.js","reducers/characters.js","reducers/charactersGlobal.js","actions/index.js","container/Header.js","components/ContextMenu.js","service/Session.js","components/Dialog.js","container/Formation.js","components/Mercenary.js","container/List.js","container/Toolbar.js","container/Footer.js","service/Characters.js","App.js","serviceWorker.js","index.js","../node_modules/react-flags-select/flags sync /^/.//.*/.svg$"],"names":["set","key","value","Cookies","expires","get","lng","undefined","resources","US","translation","translationEN","TW","translationTW","CN","translationCN","KR","translationKR","JP","translationJP","i18n","use","detector","initReactI18next","init","keySeparator","interpolation","escapeValue","locale","countries","customLabels","formation","id","top","left","type","backgroundImage","code","dragOver","queue","level","options","backcolor","backimage","reverse","ref","queueMode","queueMax","levelDialog","show","thumbnailUrl","process","iconlUrl","bookDetailUrl","getIconUrlByTypeId","Number","getThumbnailUrlByImageName","_uiIconImageName","split","resizeImageURL","datas","w","h","Promise","resolve","img","document","createElement","onload","canvas","ctx","getContext","width","height","drawImage","dataURI","toDataURL","src","crossOrigin","generateUrlParams","length","url","filter","f","map","join","initialFormation","charactors","window","location","hash","replace","String","u","shift","console","error","fm","find","_","isUndefined","charactor","_code","_type","isNaN","forEach","index","findIndex","info","combineReducers","dataset","state","Dataset","action","payload","href","characters","isArray","charactersGlobal","settings","Settings","changeLanguage","updateDataset","Header","props","dispatch","t","transDefault","countryCode","this","style","position","className","defaultCountry","selectedSize","showSelectedLabel","onSelect","e","onSelectFlag","Component","withTranslation","connect","RightMenu","onAddLevel","event","clientX","clientY","target","onClearAll","onLinkClick","_uniqueCode","c","open","animation","flip","onClick","store","session","del","remove","Dialog","min","max","onChange","setState","onKeyPress","charCode","onLevelClick","onFocus","select","autoFocus","renderTemplate","mode","renderLevelDialog","isNull","Formation","onDragStart","ev","scode","sid","dataTransfer","setData","onDragOver","preventDefault","onDragEnter","tid","onDragChangeStyle","onDragLeave","onDrop","getData","onCheckExistImage","onAddImage","onRemoveImage","onDragEnd","alertID","alertTimer","myRef","React","createRef","fsource","pid","q","drag","exist","source","setTimeout","bool","hasUpdate","push","typeShow","queueShow","data-type","draggable","onFormationClick","onDoubleClick","renderFormation","Mercenary","getCharNameByLocale","params","_charName","_charName_ENG","_charName_TW","_charName_JAP","name","isEmpty","cGlobal","nops","nameOptions","n","checked","URL","opacity","data-tooltip","override","css","List","onStarChange","_label","stars","star","label","onNameOptionsChange","onRemoveByDrop","getListBySearch","search","match","indexOf","types","shape","color","icon","_growType","_star","renderTypes","renderFilterStars","renderFilterNameOptions","placeholder","size","renderCharacters","Toolbar","downloadSizeSelected","downloadSizeCustom","Clipboard","downloadSize","d","toPng","current","then","dataUrl","a","newDataUri","download","moment","format","body","appendChild","click","removeChild","queueLen","onUpdateOptions","onResetClick","onQueueClick","onDownloadClick","marginBottom","readOnly","data-clipboard-target","Footer","alt","title","rel","getCharacters","fetch","data","json","catch","log","getCharactersGlobal","App","data-locale","Boolean","hostname","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","keys","Object","module","exports"],"mappings":"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AAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,aAAc,IACd,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,cAAe,IACf,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,KAIb,SAASqO,EAAeC,GACvB,IAAI1R,EAAK2R,EAAsBD,GAC/B,OAAOE,EAAoB5R,GAE5B,SAAS2R,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEzO,EAAKsO,GAAM,CACpC,IAAIjL,EAAI,IAAIqL,MAAM,uBAAyBJ,EAAM,KAEjD,MADAjL,EAAEpG,KAAO,mBACHoG,EAEP,OAAOrD,EAAIsO,GAEZD,EAAeM,KAAO,WACrB,OAAOC,OAAOD,KAAK3O,IAEpBqO,EAAezP,QAAU2P,EACzBM,EAAOC,QAAUT,EACjBA,EAAezR,GAAK,I","file":"static/js/main.bb2244db.chunk.js","sourcesContent":["import Cookies from 'js-cookie';\n\n/**\n * Set cookie\n * @param {string} key\n * @param {any} value\n */\nexport const set = (key = '', value = null) => {\n    if (!key && !value) return;\n    Cookies.set(key, value, { expires: 365 });\n}\n\n/**\n * Get cookie by key\n * @param {string} key\n */\nexport const get = (key = '') => Cookies.get(key);\n\n/**\n * Remove cookie by key\n * @param {string} key \n */\nexport const del = (key = '') => Cookies.remove(key);\n\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport detector from \"i18next-browser-languagedetector\";\nimport { get } from './service/Cookies';\n// the translations\n// (tip move them in a JSON file and import them)\nimport translationEN from './locales/US.json';\nimport translationTW from './locales/TW.json';\nimport translationCN from './locales/CN.json';\nimport translationKR from './locales/KR.json';\nimport translationJP from './locales/JP.json';\n\nconst lng = get('locale') === undefined ? 'US' : get('locale');\n\nconst resources = {\n  US: { translation: translationEN },\n  TW: { translation: translationTW },\n  CN: { translation: translationCN },\n  KR: { translation: translationKR },\n  JP: { translation: translationJP },\n};\n\ni18n\n  .use(detector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n\n    lng, // get default from cookie\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n  });\n\nexport default i18n;\n","import { get } from '../service/Cookies';\n\nexport default {\n  locale: get('locale') === undefined ? 'US' : get('locale'),\n  countries: ['US', 'TW', 'CN', 'KR', 'JP'],\n  // language rule: https://github.com/ekwonye-richard/react-flags-select/blob/master/src/countries.js\n  customLabels: { 'US': 'English', 'TW': 'Traditional Chinese', 'CN': 'Simplified Chinese', 'KR': 'Korea', 'JP': 'Japan' },\n};\n","import { set } from '../service/Cookies';\nimport Settings from '../models/Settings';\nimport i18n from '../i18n';\n\nexport default (state = Settings, action) => {\n  switch (action.type) {\n    case 'SET_LOCALE':\n      i18n.changeLanguage(action.payload.locale);\n      set('locale', action.payload.locale);\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n}\n","\nimport Formation from './Formation';\n\nexport default {\n    formation: Formation,\n    options: {\n        type: true,\n        backcolor: true,\n        backimage: true,\n        queue: true,\n        reverse: false,\n    },\n    ref: null,\n    queueMode: false,\n    queueMax: 12,\n    queue: [],\n    levelDialog: { show: false, left: 0, top: 0, id: null },\n};","export default [\n    { id: 'a1', top: '9px', left: '13px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'a2', top: '9px', left: '127.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'a3', top: '9px', left: '242px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'a4', top: '9px', left: '356px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'a5', top: '9px', left: '471px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'a6', top: '9px', left: '585.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b1', top: '122.5px', left: '13px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b2', top: '122.5px', left: '127.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b3', top: '122.5px', left: '242px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b4', top: '122.5px', left: '356px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b5', top: '122.5px', left: '471px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'b6', top: '122.5px', left: '585.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c1', top: '239px', left: '13px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c2', top: '239px', left: '127.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c3', top: '239px', left: '242px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c4', top: '239px', left: '356px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c5', top: '239px', left: '471px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n    { id: 'c6', top: '239px', left: '585.5px', type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 },\n]; ","// using online api to know how diff is it.\nexport const APIUrl = process.env.NODE_ENV === 'development'\n  ? process.env.REACT_APP_API_URL\n  : process.env.REACT_APP_API_URL;\n\n// origin, cross-origin \bpermission\n// const thumbnailUrl = 'https://ic-common.pmang.cloud/static/bdt_book/thumbnail';\n\nexport const thumbnailUrl = process.env.NODE_ENV === 'development'\n  ? process.env.REACT_APP_RESOURCE_URL_DEV + '/thumbnail'\n  : process.env.REACT_APP_RESOURCE_URL + '/thumbnail';\n\nexport const iconlUrl = process.env.NODE_ENV === 'development'\n  ? process.env.REACT_APP_RESOURCE_URL_DEV + '/icon'\n  : process.env.REACT_APP_RESOURCE_URL + '/icon';\n\nexport const bookDetailUrl = process.env.NODE_ENV === 'development'\n  ? process.env.REACT_APP_BOOK_DEV + '/detail.html?id='\n  : process.env.REACT_APP_BOOK + '/detail.html?id=';\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-shadow */\n/* eslint-disable no-param-reassign */\nimport _ from 'lodash';\nimport { thumbnailUrl, iconlUrl } from '../config/api';\n\nexport const getIconUrlByTypeId = (type = false) => {\n    if (!type) return null;\n    switch (Number(type)) {\n        case 1: return `url(${iconlUrl}/icon_charType__warrior.png)`;\n        case 2: return `url(${iconlUrl}/icon_charType__defender.png)`;\n        case 3: return `url(${iconlUrl}/icon_charType__magician.png)`;\n        case 4: return `url(${iconlUrl}/icon_charType__supporter.png)`;\n        default: return null;\n    }\n}\n\nexport const getThumbnailUrlByImageName = (_uiIconImageName = false) => {\n    if (!_uiIconImageName) return null;\n    const id = _uiIconImageName.split('*')[1];\n    return `${thumbnailUrl}/${id}.png`;\n}\n\nexport const resizeImageURL = (datas, w = null, h = w / 2) => {\n    return new Promise((resolve) => {\n        const img = document.createElement('img');\n        img.onload = () => {\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            if (w !== null) canvas.width = w;\n            if (h !== null) canvas.height = h;\n            ctx.drawImage(img, 0, 0, w, h);\n            const dataURI = canvas.toDataURL();\n            resolve(dataURI);\n        };\n        img.src = datas;\n        // img.crossOrigin = 'anonymous';\n        img.crossOrigin = 'use-credentials';\n        // document.body.appendChild(img);\n    });\n}\n\nexport const generateUrlParams = (formation = []) => {\n    if (formation.length === 0) return false;\n\n    const url = process.env.NODE_ENV === 'development'\n        ? process.env.REACT_APP_WEB_URL_DEV\n        : process.env.REACT_APP_WEB_URL;\n\n    // url rule => o{id}o{code}o{queue}o{level}\n    // each group connect by . => o{id}o{code}o{queue}.o{level}...\n    return url + formation\n        .filter(f => f.code !== 0) // query exist id\n        .map(f => `o${f.id}o${f.code}o${f.queue === 0 ? '' : f.queue}o${f.level === 0 ? '' : f.level}`)\n        .join('.');\n}\n\nexport const initialFormation = (formation, charactors) => {\n    window.location.hash\n        .replace('#/', '')\n        .split('.')\n        .filter(String)\n        .map(u => {\n            // check url params valid\n            const f = u.split('o'); f.shift();\n            if (f.length === 0) { console.error('Invalid url params.', u); return f; }\n\n            // check position id\n            const id = String(f[0]);\n            const fm = formation.find(({ id }) => id === String(f[0]));\n            if (_.isUndefined(fm)) { console.error('Invalid url params.', id); return f; }\n\n            // check charactor by code\n            const code = String(f[1]);\n            const charactor = charactors.find(({ _code }) => _code === code);\n            if (_.isUndefined(charactor)) { console.error('Invalid url params.', code); return f; }\n\n            const type = Number(charactor._type);\n            const backgroundImage = `url(${getThumbnailUrlByImageName(charactor._uiIconImageName)})`;\n            const queue = Number(f[2]) > 0 && Number(f[2]) <= 12 ? Number(f[2]) : 0;\n\n            let level = Number(f[3]) > 15 || Number(f[3]) < 1 ? 0 : Number(f[3]);\n            level = _.isNaN(level) ? 0 : level;\n            // plan to update object by id\n            return { id, code, type, backgroundImage, queue, level }\n        })\n        .forEach(u => {\n            const index = formation.findIndex((f) => f.id === u.id);\n            if (index === -1) return;\n\n            formation[index] = { ...formation[index], ...u }\n            console.info('Received data:', u.id)\n        });\n    return formation;\n}","import _ from 'lodash';\nimport Dataset from '../models/Dataset';\nimport { generateUrlParams } from '../utils';\n\nexport default (state = Dataset, action) => {\n    // set up url when formation update\n    const formation = _.get(action.payload, 'formation');\n    if (!_.isUndefined(formation)) {\n        window.location.href = generateUrlParams(formation);\n    }\n\n    switch (action.type) {\n        case 'RESET_FORMATION':\n            return { ...state, ...action.payload };\n        case 'UPDATE_FORMATION':\n            return { ...state, ...action.payload };\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from 'redux';\nimport settings from './settings';\nimport characters from './characters';\nimport charactersGlobal from './charactersGlobal';\nimport dataset from './dataset';\n\nexport default combineReducers({\n  dataset,\n  characters,\n  charactersGlobal,\n  settings,\n})\n","import _ from 'lodash';\n\nexport default (state = [], action) => {\n    switch (action.type) {\n        case 'SET_CHARACTERS':\n            return _.isArray(action.payload) ? action.payload : state;\n        default:\n            return state;\n    }\n}\n","import _ from 'lodash';\n\nexport default (state = [], action) => {\n    switch (action.type) {\n        case 'SET_CHARACTERS_GLOBAL':\n            return _.isArray(action.payload) ? action.payload : state;\n        default:\n            return state;\n    }\n}\n","export const setLocal = payload => ({\n  type: 'SET_LOCALE',\n  payload,\n});\n\nexport const setCharacters = payload => ({\n  type: 'SET_CHARACTERS',\n  payload,\n});\n\nexport const setCharactersGlobal = payload => ({\n  type: 'SET_CHARACTERS_GLOBAL',\n  payload,\n});\n\nexport const updateDataset = payload => ({\n  type: 'UPDATE_FORMATION',\n  payload,\n});\n\nexport const resetDataset = payload => ({\n  type: 'RESET_FORMATION',\n  payload,\n});\n","import React, { Component } from 'react';\nimport './Header.scss';\n\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport ReactFlagsSelect from 'react-flags-select';\n\nimport { setLocal } from '../actions';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.t = props.t;\n    this.state = {\n      countries: props.settings.countries,\n      customLabels: props.settings.customLabels,\n      transDefault: props.settings.locale,\n    }\n  }\n\n  onSelectFlag(countryCode) {\n    this.dispatch(setLocal({ locale: countryCode }));\n  }\n\n  render() {\n    return (\n      <header id='header'>\n        <center style={{ position: 'relative' }}>\n          <h1>\n            <a href={process.env.REACT_APP_WEB_URL} className='header-text'>\n              BROWNDUST <small>{this.t('title')}</small>\n            </a>\n          </h1>\n          <ReactFlagsSelect\n            className='flag-select'\n            defaultCountry={this.state.transDefault}\n            countries={this.state.countries}\n            customLabels={this.state.customLabels}\n            selectedSize={30}\n            showSelectedLabel={false}\n            onSelect={(e) => this.onSelectFlag(e)}\n          />\n        </center>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n    settings: state.settings,\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(Header));\n","/* eslint-disable no-underscore-dangle */\nimport React, { Component } from 'react';\nimport './ContextMenu.scss';\n\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { FaBookMedical, FaTrash, FaFortAwesomeAlt } from 'react-icons/fa';\nimport { Menu, Item, Separator, animation } from 'react-contexify';\nimport 'react-contexify/dist/ReactContexify.min.css';\n\nimport { updateDataset } from '../actions';\nimport { bookDetailUrl } from '../config/api';\n\nclass RightMenu extends Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.dispatch = props.dispatch;\n  }\n\n  onAddLevel = ({ event }) => {\n    const levelDialog = {\n      ...this.props.dataset.levelDialog,\n      show: true,\n      left: event.clientX,\n      top: event.clientY,\n      id: event.target.id,\n    }\n    this.dispatch(updateDataset({ levelDialog }));\n  };\n\n  onClearAll = ({ event, props }) => {\n    const formation = this.props.dataset.formation.map(f => f.id === event.target.id ? { ...f, level: 0 } : f);\n    this.dispatch(updateDataset({ formation }));\n  }\n\n  onLinkClick = ({ event }) => {\n    const { code } = this.props.dataset.formation.find(f => f.id === event.target.id);\n    if (code === 0) return;\n    const { _uniqueCode } = this.props.characters.find(c => c._code === code);\n    window.open(bookDetailUrl + _uniqueCode, '_blank');\n  }\n\n  render() {\n\n    /**\n     * API DOC\n     * https://fkhadra.github.io/react-contexify/api/theme-and-animation\n     */\n    return (\n      <Menu id='ctmenu' animation={animation.flip}>\n        <Item onClick={this.onLinkClick}><FaFortAwesomeAlt />Mercenary Info</Item>\n        <Item onClick={this.onAddLevel}><FaBookMedical />Add Level</Item>\n        <Separator />\n        <Item onClick={this.onClearAll}><FaTrash />Clear Settings</Item>\n        {\n          /**\n           * Sample Code\n            <Separator />\n            <Submenu label=\"Foobar\">\n              <Item onClick={this.onClick}>Foo</Item>\n              <Item onClick={this.onClick}>Bar</Item>\n            </Submenu>\n           */\n        }\n      </Menu>\n    );\n  }\n}\n\nRightMenu.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n    dataset: state.dataset,\n    characters: state.characters,\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(RightMenu));\n","import store from 'store2';\n\n/**\n * Set session\n * @param {string} key\n * @param {any} value\n */\nexport const set = (key = '', value = null) => {\n  if (!key && !value) return;\n  store.session(key, value);\n}\n\n/**\n * Get session by key\n * @param {string} key\n */\nexport const get = (key = '') => store.session(key);\n\n/**\n * Remove session by key\n * @param {string} key \n */\nexport const del = (key = '') => store.session.remove(key);\n\n","import React, { Component } from 'react';\nimport './Dialog.scss';\n\nimport propTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { updateDataset } from '../actions';\n\nclass Dialog extends Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.dispatch = props.dispatch;\n    this.state = {};\n  }\n\n  static getDerivedStateFromProps({ dataset, id }, state) {\n    if (_.isNull(id) || !_.isUndefined(state.level)) return state;\n    const formation = dataset.formation.find(f => f.id === id);\n    const level = _.isUndefined(formation) ? 0 : formation.level;\n    return { ...state, level }\n  }\n\n  onLevelClick(id) {\n    if (_.isUndefined(id) || this.state.level > 15 || this.state.level < 0) return;\n    const formation = this.props.dataset.formation\n      .map(f => f.id === id ? { ...f, level: this.state.level } : f);\n\n    const levelDialog = {\n      show: false,\n      id: null,\n      left: 0,\n      top: 0,\n    };\n    this.dispatch(updateDataset({ formation, levelDialog }));\n  }\n\n  renderLevelDialog(id = null) {\n    return (\n      <div className='dialog-level'>\n        <h3>Level</h3>\n        <hr />\n        <input\n          type='number'\n          min={0}\n          max={15}\n          value={this.state.level}\n          onChange={(e) => this.setState({ level: e.target.value })}\n          onKeyPress={({ charCode }) => charCode === 13 ? this.onLevelClick(id) : null}\n          onFocus={(e) => e.target.select()}\n          // eslint-disable-next-line jsx-a11y/no-autofocus\n          autoFocus\n        />\n        <button type='button' onClick={() => this.onLevelClick(id)}>OK</button>\n      </div>\n    );\n  }\n\n  render() {\n    const { id, left, top, mode } = this.props;\n    let renderTemplate = null;\n    switch (mode) {\n      case 'level': renderTemplate = this.renderLevelDialog(id); break;\n      default: renderTemplate = null;\n    }\n    return (\n      <div id='dialog' style={{ left, top: `${top + -60}px` }}>\n        {renderTemplate}\n      </div>\n    );\n  }\n}\n\nDialog.propTypes = {\n  top: propTypes.number.isRequired,\n  left: propTypes.number.isRequired,\n  mode: propTypes.string.isRequired,\n}\n\nconst mapStateToProps = state => {\n  return {\n    dataset: state.dataset,\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(Dialog));\n","/* eslint-disable prefer-numeric-literals */\n/* eslint-disable no-empty */\n/* eslint-disable no-underscore-dangle */\nimport React, { Component } from 'react';\nimport './Formation.scss';\n\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport { MenuProvider } from 'react-contexify';\nimport ContextMenu from '../components/ContextMenu';\nimport { get, del } from '../service/Session';\nimport { getThumbnailUrlByImageName, getIconUrlByTypeId } from '../utils';\nimport { updateDataset } from '../actions';\nimport Dialog from '../components/Dialog';\n\nclass Formation extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.dispatch = props.dispatch;\n    this.state = {\n      alertID: null,\n      alertTimer: null,\n    }\n    this.myRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.dispatch(updateDataset({ ref: this.myRef }));\n  }\n\n  /**\n   * Add image to formation\n   * @param {*} tid target position id \n   * @param {*} cold character code\n   */\n  onAddImage(tid = null, code = 0) {\n    // select character by _code\n    const c = this.characters.find(({ _code }) => _code === code);\n    // get formation state\n    if (code > 0 || c) {\n      // select target position id\n      const fsource = this.formation.find(f => f.code === code);\n      this.formation = this.formation.map(f => {\n        let payload = null;\n        // setup target\n        if (f.id === tid) {\n          payload = {\n            ...f,\n            backgroundImage: `url(${getThumbnailUrlByImageName(c._uiIconImageName)})`,\n            type: Number(c._type),\n            code: code,\n            dragOver: false,\n          }\n          // move exist queue\n          if (fsource) {\n            payload = (f.queue === 0 && fsource.queue > 0)\n              ? { ...payload, queue: fsource.queue }\n              : { ...payload, queue: f.queue };\n            payload = (f.level === 0 && fsource.level > 0)\n              ? { ...payload, level: fsource.level }\n              : { ...payload, level: f.level };\n          }\n        }\n        return _.isNull(payload) ? f : payload;\n      });\n      this.dispatch(updateDataset({ formation: this.formation, ref: this.myRef }));\n    }\n  }\n\n  /**\n   * Delete image from formation\n   * @param {*} pid position id \n   * @param {*} cold character code\n   */\n  onRemoveImage(pid = null, code = 0) {\n    const c = this.characters.find(({ _code }) => _code === code);\n    if (code || c) {\n      // Remove image from source\n      // select target position id\n      this.formation = this.formation.map(f =>\n        f.id === pid ?\n          {\n            ...f,\n            backgroundImage: null,\n            type: null,\n            code: 0,\n            dragOver: false,\n            queue: 0,\n            level: 0,\n          } : f\n      )\n      const queue = this.props.dataset.queue.filter(q => q !== pid);\n      this.dispatch(updateDataset({ formation: this.formation, queue }));\n    }\n  }\n\n  /**\n   * Check the target image is exist\n   * @param {*} drag drag or click mode\n   * @param {*} tid target id\n   * @param {*} sid source id\n   * @param {*} scode source code\n   */\n  onCheckExistImage(drag, tid, sid = null, scode = 0) {\n    let exist = false;\n    const source = this.formation.filter(({ code }) => code === scode);\n    if (drag && sid === '0' && source.length > 0) {\n      exist = true; // drag mode\n    } else if (!drag && source.length > 0) {\n      exist = true; // click mode\n    }\n\n    if (exist) {\n      // add alarm style\n      this.setState({ alertID: source[0].id });\n      setTimeout(() => { this.setState({ alertID: null }) }, 1000);\n      // remove target style\n      this.onDragChangeStyle(tid, false);\n      del('_code');\n      console.info('Already exist!', scode);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Dropover style\n   * @param {*} tid \n   */\n  onDragChangeStyle(tid = null, bool = true) {\n    let hasUpdate = false;\n    this.formation = this.formation.map(f => {\n      if (f.id === tid) {\n        // need update style [performance]\n        if (f.dragOver !== bool) hasUpdate = true;\n        return { ...f, dragOver: bool };\n      }\n      return f;\n    });\n    if (hasUpdate)\n      this.dispatch(updateDataset({ formation: this.formation }));\n  }\n\n  /**\n   * Adding charactor or setting queue\n   * @param {*} id \n   */\n  onFormationClick(id = null) {\n    const { queue, queueMode, queueMax } = this.props.dataset;\n    const formation = this.formation.find(f => f.id === id);\n\n    // queue mode\n    if (queueMode && !_.isUndefined(formation)) {\n      // check is character inside\n      if (\n        formation.code > 0 &&                // check data exist\n        formation.backgroundImage !== null &&     // check data exist\n        queue.filter(q => q === id).length === 0  // can not repeat id\n      ) {\n        queue.push(id);\n        this.formation = this.formation.map(f => {\n          if (f.id === id) return { ...f, queue: queue.length };\n          return f;\n        });\n        const payload = queue.length === queueMax\n          ? { formation: this.formation, queue, queueMode: false } : { formation: this.formation, queue };\n        this.dispatch(updateDataset(payload))\n      }\n    } else {\n\n      // add character mode\n      const code = get('_code');\n      if (!code) return;\n      if (this.onCheckExistImage(false, id, null, code)) return;\n      this.onAddImage(id, code);\n      del('_code');\n    }\n  }\n\n  /**\n   * DragStart event\n   * sid source position id\n   * scode source position image code\n   */\n  onDragStart = (ev, scode = 0, sid = null) => {\n    ev.dataTransfer.setData('scode', scode);\n    ev.dataTransfer.setData('sid', sid);\n  }\n\n  onDragOver = (ev, tid = null) => {\n    ev.preventDefault();\n  }\n\n  onDragEnter = (ev, tid = null) => {\n    ev.preventDefault();\n    this.onDragChangeStyle(tid, true);\n  }\n\n  onDragLeave = (ev, tid = null) => {\n    ev.preventDefault();\n    this.onDragChangeStyle(tid, false);\n  }\n\n  /**\n   * Drop event\n   * tid target position id\n   */\n  onDrop = (ev, tid = null) => {\n    const sid = ev.dataTransfer.getData('sid');\n    const scode = ev.dataTransfer.getData('scode');\n    const target = this.formation.find(({ id }) => id === tid);\n    // check is exist\n    if (this.onCheckExistImage(true, tid, sid, scode)) return;\n    // check moving or exchanging \n    if (target.backgroundImage === null) {\n      // moving\n      // console.log('move');\n      this.onAddImage(tid, scode);\n      this.onRemoveImage(sid, scode);\n    } else {\n      // exchage\n      // console.log('exchage');\n      this.onAddImage(sid, target.code);\n      this.onAddImage(tid, scode);\n    }\n  }\n\n  /**\n   * Drag end (Plan: remove by drag to outside)\n   */\n  onDragEnd = (ev, id, code) => {\n    ev.preventDefault();\n    // console.log(ev.target);\n    // console.log(ev.target.getAttribute('id'), id);\n    // console.log(ev.target.getAttribute('draggable'));\n\n    // const drag = ev.target.getAttribute('draggable');\n    // if (drag) {\n    //   console.log('remove')\n    //   this.onRemoveImage(id, code)\n    // };\n  }\n\n  renderFormation(typeShow, queueShow) {\n    return this.formation.map(({ id, top, left, type, backgroundImage, code, dragOver, queue, level }) => {\n      return (\n        <div\n          key={`formation-${id}`}\n          className={`box ${dragOver ? 'over' : ''} ${this.state.alertID === id ? 'shake-hard shake-constant shake-constant--hover' : ''}`}\n          id={id}\n          data-type={type}\n          draggable={code > 0 ? true : false}\n          style={{ top, left, backgroundImage }}\n          onClick={() => this.onFormationClick(id)}\n          onDoubleClick={() => this.onRemoveImage(id, code)}\n          onDragStart={(e) => this.onDragStart(e, code, id)}\n          onDragOver={(e) => this.onDragOver(e, id)}\n          onDragEnter={(e) => this.onDragEnter(e, id)}\n          onDragLeave={(e) => this.onDragLeave(e, id)}\n          onDrop={(e) => { this.onDrop(e, id) }}\n          onDragEnd={(e) => this.onDragEnd(e, id, code)}\n        >\n          {typeShow ? <div className='type' style={{ backgroundImage: getIconUrlByTypeId(type) }}></div> : null}\n          {queueShow && queue > 0 ? <div className='queue'>{queue}</div> : null}\n          {level > 0 ? <div className={`level ${level < 10 ? 'min-level' : ''}`}>{level}</div> : null}\n        </div>\n      )\n    });\n  }\n\n  render() {\n    this.dataset = this.props.dataset;\n    this.formation = this.dataset.formation;\n    const { type, backcolor, backimage, queue, reverse } = this.props.dataset.options;\n    this.characters = this.props.characters;\n    const levelDialog = this.dataset.levelDialog;\n\n    return (\n      <div\n        ref={this.myRef}\n        id='formation'\n        className={\n          `formation \n        ${type ? '' : 'no-type'}\n        ${backcolor ? '' : 'no-backcolor'}\n        ${backimage ? '' : 'no-backimage'}\n        ${queue ? '' : 'no-queue'}\n        ${reverse ? 'reverse' : ''}\n        `\n        }\n      >\n        <MenuProvider id=\"ctmenu\">\n          {this.renderFormation(type, queue)}\n        </MenuProvider>\n        <ContextMenu />\n        {\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          levelDialog.show ? <Dialog {...levelDialog} mode='level' /> : null\n        }\n      </div>\n    );\n  }\n}\n\nFormation.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n    characters: state.characters,\n    dataset: state.dataset,\n  }\n}\n\nexport default connect(mapStateToProps)(Formation);","/* eslint-disable camelcase */\n/* eslint-disable no-underscore-dangle */\nimport React, { Component } from 'react';\nimport './Mercenary.scss';\n\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nimport { set } from '../service/Session';\nimport { getThumbnailUrlByImageName } from '../utils';\nimport { bookDetailUrl } from '../config/api';\n\nclass Mercenary extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n  }\n\n  /**\n   * DrageStart Event\n   * sid source position id\n   * scode source position image code\n   */\n  onDragStart = (ev, scode, sid) => {\n    ev.dataTransfer.setData('scode', scode);\n    ev.dataTransfer.setData('sid', sid);\n  }\n\n  onDoubleClick = (_uniqueCode) => {\n    window.open(bookDetailUrl + _uniqueCode, '_blank');\n  }\n\n  getCharNameByLocale = (locale = 'US', params = null) => {\n    if (_.isNull(params)) return;\n\n    const { _uniqueCode, _charName, _charName_ENG, _charName_TW, _charName_JAP } = params;\n    let name = '';\n    switch (locale) {\n      case 'US': name = _charName_ENG; break;\n      case 'TW': name = _charName_TW; break;\n      case 'CN': name = _charName_TW; break;\n      case 'KR': name = _charName; break;\n      case 'JP': name = _charName_JAP; break;\n      default: name = _charName_ENG; break;\n    }\n    // check the name is empty\n    if (!_.isEmpty(name)) return name;\n    // if empty return korea name, but global api is faild..\n    if (_.isUndefined(this.props.charactersGlobal)) return _charName;\n    // if empty return korea name\n    const cGlobal = this.props.charactersGlobal.find(c => c._uniqueCode === _uniqueCode);\n    if (_.isUndefined(cGlobal)) return _charName;\n    switch (locale) {\n      case 'US': name = cGlobal._charName_ENG; break;\n      case 'TW': name = cGlobal._charName_TW; break;\n      case 'CN': name = cGlobal._charName_TW; break;\n      case 'KR': name = cGlobal._charName; break;\n      case 'JP': name = cGlobal._charName_JAP; break;\n      default: name = cGlobal._charName_ENG; break;\n    }\n    return _.isEmpty(name) ? cGlobal._charName : name;\n  }\n\n  render() {\n    const { _uiIconImageName, _code, _uniqueCode } = this.props.params;\n    const formation = this.props.dataset.formation;\n    const nops = this.props.nameOptions.map(n => n.checked);\n    const URL = getThumbnailUrlByImageName(_uiIconImageName);\n    const opacity = _.isUndefined(formation.find(f => f.code === _code))\n      ? 1 : 0.2;\n\n    return (\n      <div\n        className={`mercenary ${nops[0] ? 'show' : ''} ${nops[1] ? 'bold' : ''}`}\n        style={{ backgroundImage: `url(${URL})`, opacity }}\n        data-tooltip={this.getCharNameByLocale(this.props.settings.locale, this.props.params)}\n        draggable\n        onClick={() => set('_code', _code)}\n        onDragStart={(e) => this.onDragStart(e, _code, 0)}\n        onDoubleClick={() => this.onDoubleClick(_uniqueCode)}\n      >\n      </div>\n    );\n  }\n}\n\nMercenary.propTypes = {\n  nameOptions: PropTypes.array.isRequired,\n  params: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => {\n  return {\n    settings: state.settings,\n    dataset: state.dataset,\n    charactersGlobal: state.charactersGlobal,\n  }\n}\n\nexport default connect(mapStateToProps)(Mercenary);\n","/* eslint-disable camelcase */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-mixed-operators */\nimport React, { Component } from 'react';\nimport './List.scss';\n\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Checkbox } from 'pretty-checkbox-react';\nimport { FaStar } from \"react-icons/fa\";\nimport { css } from '@emotion/core';\nimport HashLoader from 'react-spinners/HashLoader';\n\nimport Mercenary from '../components/Mercenary';\nimport { getIconUrlByTypeId } from '../utils';\nimport { updateDataset } from '../actions';\n\nconst override = css`\n    display: block;\n    margin: 20vh auto 0;\n`;\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.dispatch = props.dispatch;\n    this.t = props.t;\n    this.state = {\n      search: '',\n      type: 1,\n      stars: [\n        { label: '5', checked: true, star: 5 },\n        { label: '4', checked: true, star: 4 },\n        { label: '3', checked: false, star: 3 },\n        { label: this.t('normal'), checked: false, star: 2 },\n      ],\n      nameOptions: [\n        { label: this.t('show'), checked: true },\n        { label: this.t('bold'), checked: false },\n      ],\n    };\n  }\n\n  static getDerivedStateFromProps({ t }, state) {\n    let stars = [];\n    let nameOptions = [];\n\n    stars = state.stars;\n    stars[3].label = t('normal');\n\n    nameOptions = state.nameOptions;\n    nameOptions[0].label = t('show');\n    nameOptions[1].label = t('bold');\n\n    return {\n      ...state,\n      types: [\n        { type: 1, label: t('attacker') },\n        { type: 2, label: t('defender') },\n        { type: 3, label: t('magician') },\n        { type: 4, label: t('supporter') },\n      ],\n      stars,\n      nameOptions,\n    }\n  }\n\n  onStarChange = (_label) => {\n    const stars = this.state.stars;\n    const star = stars.find(({ label }) => label === _label);\n    star.checked = !star.checked;\n    this.setState({ stars });\n  }\n\n  onNameOptionsChange = (_label) => {\n    const nameOptions = this.state.nameOptions.map(n =>\n      (n.label === _label) ? { ...n, checked: !n.checked } : n\n    );\n    this.setState({ nameOptions });\n  }\n\n  onRemoveByDrop = (ev) => {\n    const sid = ev.dataTransfer.getData('sid');\n    if (sid === '0') return;\n    const formation = this.props.dataset.formation.map((f) => {\n      return sid !== f.id\n        ? f\n        : { ...f, type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 };\n    });\n    this.dispatch(updateDataset({ formation }))\n  }\n\n  onDragOver = (ev) => {\n    ev.preventDefault();\n  }\n\n  getListBySearch = (search = '', characters) => {\n    if (search === '') return characters;\n\n    return this.props.charactersGlobal.filter(c => {\n      const { _charName, _charName_ENG, _charName_TW, _charName_JAP } = c;\n      let match = false;\n      switch (this.props.settings.locale) {\n        case 'US': match = _charName_ENG.indexOf(search) > -1; break;\n        case 'TW': match = _charName_TW.indexOf(search) > -1; break;\n        case 'CN': match = _charName_TW.indexOf(search) > -1; break;\n        case 'KR': match = _charName.indexOf(search) > -1; break;\n        case 'JP': match = _charName_JAP.indexOf(search) > -1; break;\n        default: match = true;\n      }\n      return match;\n    });\n  }\n\n  /**\n   * Render charactor types\n   */\n  renderTypes() {\n    return this.state.types.map(({ type, label }) =>\n      (\n        <button\n          key={`type-${label}`}\n          type='button'\n          className={`type  ${type === this.state.type ? 'active' : ''}`}\n          onClick={() => this.setState({ type })}\n        >\n          <i style={{ backgroundImage: getIconUrlByTypeId(type) }}></i>\n          <span>{label}</span>\n        </button>\n      ));\n  }\n\n  /**\n   * Render stars filter\n   */\n  renderFilterStars() {\n    return this.state.stars.map(({ label, checked }, index) =>\n      (\n        <Checkbox\n          key={`start-${index}`}\n          shape='round'\n          color='info'\n          animation='jelly'\n          icon={<i className=\"mdi mdi-check\" />}\n          checked={checked}\n          onChange={() => this.onStarChange(label)}\n        >\n          {label}\n        </Checkbox>\n      ));\n  }\n\n  /**\n   * Render names filter\n   */\n  renderFilterNameOptions() {\n    return this.state.nameOptions.map(({ label, checked }, index) => (\n      <Checkbox\n        key={`name-${index}`}\n        shape='round'\n        color='info'\n        animation='jelly'\n        icon={<i className=\"mdi mdi-check\" />}\n        checked={checked}\n        onChange={() => this.onNameOptionsChange(label)}\n      >\n        {label}\n      </Checkbox>\n    ));\n  }\n\n  /**\n   * Render lists\n   */\n  renderCharacters(characters) {\n    return this.getListBySearch(this.state.search, characters)\n      .filter(({ _type, _growType, _star }) => {\n        return (\n          Number(_type) === this.state.type &&\n          Number(_growType) >= 0 &&\n          (\n            this.state.stars[0].checked && Number(_star) === 5 ||\n            this.state.stars[1].checked && Number(_star) === 4 ||\n            this.state.stars[2].checked && Number(_star) === 3 ||\n            this.state.stars[3].checked && Number(_star) === 2 ||\n            this.state.stars[3].checked && Number(_star) === 1\n          )\n        )\n      })\n      .map((c, index) => (\n        <Mercenary\n          key={`mercenary-${index}`}\n          params={c}\n          nameOptions={this.state.nameOptions}\n        />\n      ))\n  }\n\n  render() {\n    const characters = this.props.characters;\n    return (\n      <div\n        className='list'\n        onDragOver={(e) => this.onDragOver(e)}\n        onDrop={(e) => this.onRemoveByDrop(e)}\n      >\n        <div className='types'>\n          {this.renderTypes()}\n        </div>\n        <div className='filter'>\n          <div className='star'>\n            <span className='filter-title'><FaStar /> {this.t('star')}</span>\n            {this.renderFilterStars()}\n          </div>\n          <div className='name'>\n            <span className='filter-title'>{this.t('name')}</span>\n            {this.renderFilterNameOptions()}\n          </div>\n        </div>\n        <div className='search'>\n          <input\n            className='search-text'\n            type='text'\n            placeholder={this.t('search')}\n            value={this.state.search}\n            onChange={(e) => this.setState({ search: e.target.value })}\n          />\n        </div>\n\n        <div className='content'>\n          {\n            characters.length === 0 ? (\n              <HashLoader\n                css={override}\n                color={'#5ac0de'}\n                size={100}\n              />\n            ) : this.renderCharacters(characters)\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nList.propTypes = {\n  characters: PropTypes.array.isRequired,\n}\n\nconst mapStateToProps = state => {\n  return {\n    characters: state.characters,\n    charactersGlobal: state.charactersGlobal,\n    dataset: state.dataset,\n    settings: state.settings,\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(List));\n","import React, { Component } from 'react';\nimport './Toolbar.scss';\n\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { MdRefresh, MdGetApp } from 'react-icons/md';\nimport { FaLink } from 'react-icons/fa';\nimport { GiPerspectiveDiceSixFacesRandom, GiPerspectiveDiceOne } from 'react-icons/gi';\nimport { Checkbox, Radio } from 'pretty-checkbox-react';\nimport { toPng } from 'html-to-image';\nimport moment from 'moment';\nimport Clipboard from 'clipboard';\nimport { updateDataset } from '../actions';\nimport { resizeImageURL } from '../utils';\n\nclass Toolbar extends Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.t = props.t;\n    this.state = {\n      downloadSizeSelected: 2,\n      downloadSizeCustom: 0,\n    };\n  }\n\n  componentDidMount() {\n    // eslint-disable-next-line no-new\n    new Clipboard('.tool-copylink');\n  }\n\n  static getDerivedStateFromProps({ t }, state) {\n    return {\n      ...state,\n      downloadSize: [\n        { value: 1, name: 700 },\n        { value: 2, name: 520 },\n        { value: 3, name: 420 },\n        { value: 4, name: t('image-width-custom') },\n      ],\n    }\n  }\n\n  onUpdateOptions(payload) {\n    const options = { ...this.options, ...payload };\n    this.dispatch(updateDataset({ options }));\n  }\n\n  onQueueClick(queueMode) {\n    let payload = {};\n    if (queueMode) {\n      // turn off queue mode\n      payload = { queueMode: !queueMode, queue: [] };\n    } else {\n      // turn on queue mode\n      const formation = this.formation.map(f => ({ ...f, queue: 0 }));\n      payload = { formation, queueMode: !queueMode };\n    }\n    this.dispatch(updateDataset(payload));\n  }\n\n  onDownloadClick() {\n    const size = this.state.downloadSizeSelected !== 4 ? this.state.downloadSize\n      .find(d => d.value === this.state.downloadSizeSelected).name\n      : Number(this.state.downloadSizeCustom);\n\n    if (Number(size) <= 0) return;\n    toPng(this.props.dataset.ref.current)\n      .then(async dataUrl => {\n        const newDataUri = await resizeImageURL(dataUrl, size);\n        const a = document.createElement('a');\n        a.href = newDataUri;\n        a.download = `output-${moment().format('YYYYMMDDTHmmss')}.png`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n      });\n  }\n\n  onResetClick() {\n    const formation = this.formation.map(f => ({ ...f, type: 0, backgroundImage: null, code: 0, dragOver: false, queue: 0, level: 0 }));\n    this.dispatch(updateDataset({ formation, queueMode: false, queue: [] }));\n  }\n\n  render() {\n    this.formation = this.props.dataset.formation;\n    const queueLen = this.formation.filter(f => f.queue > 0).length;\n    this.options = this.props.dataset.options;\n    const { queueMode } = this.props.dataset;\n    return (\n      <div className='toolbar'>\n        <div className='options'>\n          <span className='option-title'>{this.t('show-content')}</span>\n          <Checkbox\n            shape='round'\n            color='info'\n            animation='jelly'\n            icon={<i className=\"mdi mdi-check\" />}\n            checked={this.options.type}\n            onChange={e => this.onUpdateOptions({ type: e.target.checked })}\n          >\n            {this.t('mercenary-type')}\n          </Checkbox>\n          <Checkbox\n            shape='round'\n            color='info'\n            animation='jelly'\n            icon={<i className=\"mdi mdi-check\" />}\n            checked={this.options.queue}\n            onChange={e => this.onUpdateOptions({ queue: e.target.checked })}\n          >\n            {this.t('mercenary-queue')}\n          </Checkbox>\n          <Checkbox\n            shape='round'\n            color='info'\n            animation='jelly'\n            icon={<i className=\"mdi mdi-check\" />}\n            checked={this.options.backcolor}\n            onChange={e => this.onUpdateOptions({ backcolor: e.target.checked })}\n          >\n            {this.t('background-color')}\n          </Checkbox>\n          <Checkbox\n            shape='round'\n            color='info'\n            animation='jelly'\n            icon={<i className=\"mdi mdi-check\" />}\n            checked={this.options.backimage}\n            onChange={e => this.onUpdateOptions({ backimage: e.target.checked })}\n          >\n            {this.t('background-grid')}\n          </Checkbox>\n          <Checkbox\n            shape='round'\n            color='info'\n            animation='jelly'\n            icon={<i className=\"mdi mdi-check\" />}\n            checked={this.options.reverse}\n            onChange={e => this.onUpdateOptions({ reverse: e.target.checked })}\n          >\n            {this.t('reverse')}\n          </Checkbox>\n        </div>\n\n        <div className='options'>\n          <span className='option-title'>{this.t('image-width')}</span>\n          {\n            this.state.downloadSize.map(({ value, name }, index) => {\n              return (\n                <Radio\n                  key={`download-szie-${value}`}\n                  name='download-size'\n                  shape='round'\n                  color='info'\n                  animation='jelly'\n                  icon={<i className=\"mdi mdi-check\" />}\n                  value={value}\n                  checked={value === this.state.downloadSizeSelected}\n                  onChange={() => this.setState({ downloadSizeSelected: value })}\n                >\n                  {value !== 4 ? `${name}px` : name}\n                </Radio>\n              );\n            })\n          }\n          <input\n            type='number'\n            min={0}\n            max={2000}\n            className='download-size-custom'\n            value={this.state.downloadSizeCustom}\n            onChange={(e) => this.setState({ downloadSizeCustom: e.target.value.replace(/\\D/, '') })}\n            onFocus={() => this.setState({ downloadSizeSelected: 4 })}\n          /> px\n        </div>\n\n        <div className='commands'>\n          <button\n            type='button'\n            className='tool tool-reset'\n            onClick={() => this.onResetClick()}\n          >\n            <MdRefresh size='2em' color='#fff' />\n            <span>{this.t('reset')}</span>\n          </button>\n          <button\n            type='button'\n            className={`tool tool-queue ${queueMode ? 'tool-queue-on' : ''}`}\n            onClick={() => this.onQueueClick(queueMode)}\n          >\n            {\n              queueMode\n                ? <div><GiPerspectiveDiceOne size='2em' color='#fff' /><span>{this.t('queue')}({queueLen})</span></div>\n                : <div><GiPerspectiveDiceSixFacesRandom size='2em' color='#fff' /><span>{this.t('queue')}({queueLen})</span></div>\n            }\n          </button>\n          <button\n            type='button'\n            className='tool tool-download'\n            onClick={() => this.onDownloadClick()}\n          >\n            <MdGetApp size='2em' color='#fff' />\n            <span>{this.t('download')}</span>\n          </button>\n        </div>\n        <div className='commands' style={{ marginBottom: 0 }}>\n          <input id=\"tool-copylink-text\" className='tool-copylink-text' value={window.location.href} readOnly />\n          <button\n            type='button'\n            className='tool tool-copylink'\n            data-clipboard-target='#tool-copylink-text'\n          >\n            <FaLink size='1.5em' color='#fff' />\n            <span>{this.t('copylink')}</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nToolbar.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n    dataset: state.dataset,\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(Toolbar));\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { Component } from 'react';\nimport './Footer.scss';\n\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { FaGithub } from \"react-icons/fa\";\nimport { GoIssueOpened } from \"react-icons/go\";\n\nclass Footer extends Component {\n  constructor(props) {\n    super(props);\n    this.t = this.props.t;\n  }\n\n  render() {\n    return (\n      <footer className='footer'>\n        <div className='footer-tip'>\n          <span>1. {this.t('tip1')}</span>\n          <span>2. {this.t('tip2')}</span>\n          <span>3. {this.t('tip3')}</span>\n          <span>4. {this.t('tip4')}</span>\n          <span>5. {this.t('tip5')}</span>\n          <span>6. {this.t('tip6')}</span>\n        </div>\n        <div className='footer-items'>\n          <a className='footer-link' alt='github' title='github' href='https://github.com/explooosion/browndust-share' target='_blank' rel=\"noopener noreferrer\"><FaGithub size='2em' /></a>\n          <a className='footer-link' alt='issue' title='issue' href='https://github.com/explooosion/browndust-share/issues' target='_blank' rel=\"noopener noreferrer\"><GoIssueOpened size='2.3em' /></a>\n        </div>\n        <span className='footer-copyright'>This site is fan-made and not affiliated with NEOWIZ and GAMFS in any way.</span>\n      </footer>\n    );\n  }\n}\n\nFooter.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n  }\n}\n\nexport default withTranslation()(connect(mapStateToProps)(Footer));\n","import { APIUrl } from '../config/api';\n\nexport const getCharacters = async () => {\n    return fetch(APIUrl)\n        .then(data => data.json())\n        .catch(e => {\n            console.log('error', e);\n            console.log('change API url to dev');\n            return fetch(process.env.REACT_APP_API_URL_DEV).then(d => d.json())\n        })\n}\n\nexport const getCharactersGlobal = async () => {\n    return fetch(process.env.REACT_APP_API_URL_GLOBAL)\n        .then(data => data.json())\n        .catch(e => {\n            console.log('error', e);\n            console.log('change API url to dev');\n            return fetch(process.env.REACT_APP_API_URL_DEV).then(d => d.json())\n        })\n}","import React, { Component } from 'react';\nimport './App.scss';\n\nimport { HashRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Header from './container/Header';\nimport Formation from './container/Formation';\nimport List from './container/List';\nimport Toolbar from './container/Toolbar';\nimport Footer from './container/Footer';\n\nimport { setCharacters, setCharactersGlobal, updateDataset } from './actions';\nimport { getCharacters, getCharactersGlobal } from './service/Characters';\nimport { initialFormation } from './utils';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.state = {};\n  }\n\n  async componentDidMount() {\n    await getCharactersGlobal()\n      .then(data => this.dispatch(setCharactersGlobal(data)));\n    await getCharacters()\n      .then(data => this.dispatch(setCharacters(data)))\n      .then(() => this.dispatch(updateDataset({ formation: initialFormation(this.formation, this.characters) })));\n  }\n\n  render() {\n    this.formation = this.props.dataset.formation;\n    this.characters = this.props.characters;\n    this.locale = this.props.settings.locale;\n    return (\n      <HashRouter>\n        <div id='wrapper' data-locale={this.locale}>\n          <Header />\n          <section id='container'>\n            <main className='main'>\n              <Formation />\n              <Toolbar />\n              <Footer />\n            </main>\n            <List />\n          </section>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nApp.propTypes = {}\n\nconst mapStateToProps = state => {\n  return {\n    characters: state.characters,\n    charactersGlobal: state.charactersGlobal,\n    dataset: state.dataset,\n    settings: state.settings,\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport './index.scss';\nimport './i18n';\nimport reducers from './reducers';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(thunk)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./ad.svg\": 104,\n\t\"./ae.svg\": 105,\n\t\"./af.svg\": 106,\n\t\"./ag.svg\": 107,\n\t\"./ai.svg\": 108,\n\t\"./al.svg\": 109,\n\t\"./am.svg\": 110,\n\t\"./ao.svg\": 111,\n\t\"./ar.svg\": 112,\n\t\"./as.svg\": 113,\n\t\"./at.svg\": 114,\n\t\"./au.svg\": 115,\n\t\"./aw.svg\": 116,\n\t\"./az.svg\": 117,\n\t\"./ba.svg\": 118,\n\t\"./bb.svg\": 119,\n\t\"./bd.svg\": 120,\n\t\"./be.svg\": 121,\n\t\"./bf.svg\": 122,\n\t\"./bg.svg\": 123,\n\t\"./bh.svg\": 124,\n\t\"./bi.svg\": 125,\n\t\"./bj.svg\": 126,\n\t\"./bm.svg\": 127,\n\t\"./bo.svg\": 128,\n\t\"./br.svg\": 129,\n\t\"./bs.svg\": 130,\n\t\"./bt.svg\": 131,\n\t\"./bw.svg\": 132,\n\t\"./by.svg\": 133,\n\t\"./bz.svg\": 134,\n\t\"./ca.svg\": 135,\n\t\"./cd.svg\": 136,\n\t\"./cf.svg\": 137,\n\t\"./cg.svg\": 138,\n\t\"./ch.svg\": 139,\n\t\"./ci.svg\": 140,\n\t\"./ck.svg\": 141,\n\t\"./cl.svg\": 142,\n\t\"./cm.svg\": 143,\n\t\"./cn.svg\": 144,\n\t\"./co.svg\": 145,\n\t\"./cr.svg\": 146,\n\t\"./cu.svg\": 147,\n\t\"./cv.svg\": 148,\n\t\"./cw.svg\": 149,\n\t\"./cy.svg\": 150,\n\t\"./cz.svg\": 151,\n\t\"./de.svg\": 152,\n\t\"./dj.svg\": 153,\n\t\"./dk.svg\": 154,\n\t\"./dm.svg\": 155,\n\t\"./do.svg\": 156,\n\t\"./dz.svg\": 157,\n\t\"./ec.svg\": 158,\n\t\"./ee.svg\": 159,\n\t\"./eg.svg\": 160,\n\t\"./er.svg\": 161,\n\t\"./es.svg\": 162,\n\t\"./et.svg\": 163,\n\t\"./fi.svg\": 164,\n\t\"./fj.svg\": 165,\n\t\"./fk.svg\": 166,\n\t\"./fm.svg\": 167,\n\t\"./fo.svg\": 168,\n\t\"./fr.svg\": 169,\n\t\"./ga.svg\": 170,\n\t\"./gb.svg\": 171,\n\t\"./gd.svg\": 172,\n\t\"./ge.svg\": 173,\n\t\"./gg.svg\": 174,\n\t\"./gh.svg\": 175,\n\t\"./gi.svg\": 176,\n\t\"./gl.svg\": 177,\n\t\"./gm.svg\": 178,\n\t\"./gn.svg\": 179,\n\t\"./gq.svg\": 180,\n\t\"./gr.svg\": 181,\n\t\"./gt.svg\": 182,\n\t\"./gu.svg\": 183,\n\t\"./gw.svg\": 184,\n\t\"./hk.svg\": 185,\n\t\"./hn.svg\": 186,\n\t\"./hr.svg\": 187,\n\t\"./ht.svg\": 188,\n\t\"./hu.svg\": 189,\n\t\"./id.svg\": 190,\n\t\"./ie.svg\": 191,\n\t\"./il.svg\": 192,\n\t\"./im.svg\": 193,\n\t\"./in.svg\": 194,\n\t\"./io.svg\": 195,\n\t\"./iq.svg\": 196,\n\t\"./ir.svg\": 197,\n\t\"./is.svg\": 198,\n\t\"./it.svg\": 199,\n\t\"./je.svg\": 200,\n\t\"./jm.svg\": 201,\n\t\"./jo.svg\": 202,\n\t\"./jp.svg\": 203,\n\t\"./ke.svg\": 204,\n\t\"./kg.svg\": 205,\n\t\"./kh.svg\": 206,\n\t\"./ki.svg\": 207,\n\t\"./km.svg\": 208,\n\t\"./kn.svg\": 209,\n\t\"./kp.svg\": 210,\n\t\"./kr.svg\": 211,\n\t\"./kw.svg\": 212,\n\t\"./ky.svg\": 213,\n\t\"./kz.svg\": 214,\n\t\"./la.svg\": 215,\n\t\"./lb.svg\": 216,\n\t\"./li.svg\": 217,\n\t\"./lk.svg\": 218,\n\t\"./lr.svg\": 219,\n\t\"./ls.svg\": 220,\n\t\"./lt.svg\": 221,\n\t\"./lu.svg\": 222,\n\t\"./lv.svg\": 223,\n\t\"./ly.svg\": 224,\n\t\"./ma.svg\": 225,\n\t\"./mc.svg\": 226,\n\t\"./md.svg\": 227,\n\t\"./me.svg\": 228,\n\t\"./mg.svg\": 229,\n\t\"./mh.svg\": 230,\n\t\"./mk.svg\": 231,\n\t\"./ml.svg\": 232,\n\t\"./mm.svg\": 233,\n\t\"./mn.svg\": 234,\n\t\"./mo.svg\": 235,\n\t\"./mp.svg\": 236,\n\t\"./mq.svg\": 237,\n\t\"./mr.svg\": 238,\n\t\"./ms.svg\": 239,\n\t\"./mt.svg\": 240,\n\t\"./mu.svg\": 241,\n\t\"./mv.svg\": 242,\n\t\"./mw.svg\": 243,\n\t\"./mx.svg\": 244,\n\t\"./my.svg\": 245,\n\t\"./mz.svg\": 246,\n\t\"./na.svg\": 247,\n\t\"./nato.svg\": 248,\n\t\"./ne.svg\": 249,\n\t\"./nf.svg\": 250,\n\t\"./ng.svg\": 251,\n\t\"./ni.svg\": 252,\n\t\"./nl.svg\": 253,\n\t\"./no.svg\": 254,\n\t\"./np.svg\": 255,\n\t\"./nr.svg\": 256,\n\t\"./nu.svg\": 257,\n\t\"./nz.svg\": 258,\n\t\"./om.svg\": 259,\n\t\"./pa.svg\": 260,\n\t\"./pe.svg\": 261,\n\t\"./pf.svg\": 262,\n\t\"./pg.svg\": 263,\n\t\"./ph.svg\": 264,\n\t\"./pk.svg\": 265,\n\t\"./pl.svg\": 266,\n\t\"./pn.svg\": 267,\n\t\"./pr.svg\": 268,\n\t\"./ps.svg\": 269,\n\t\"./pt.svg\": 270,\n\t\"./pw.svg\": 271,\n\t\"./py.svg\": 272,\n\t\"./qa.svg\": 273,\n\t\"./ro.svg\": 274,\n\t\"./rs.svg\": 275,\n\t\"./ru.svg\": 276,\n\t\"./rw.svg\": 277,\n\t\"./sa.svg\": 278,\n\t\"./sb.svg\": 279,\n\t\"./sc.svg\": 280,\n\t\"./sd.svg\": 281,\n\t\"./se.svg\": 282,\n\t\"./sg.svg\": 283,\n\t\"./si.svg\": 284,\n\t\"./sk.svg\": 285,\n\t\"./sl.svg\": 286,\n\t\"./sm.svg\": 287,\n\t\"./sn.svg\": 288,\n\t\"./so.svg\": 289,\n\t\"./sr.svg\": 290,\n\t\"./ss.svg\": 291,\n\t\"./st.svg\": 292,\n\t\"./sv.svg\": 293,\n\t\"./sx.svg\": 294,\n\t\"./sy.svg\": 295,\n\t\"./sz.svg\": 296,\n\t\"./tc.svg\": 297,\n\t\"./td.svg\": 298,\n\t\"./tg.svg\": 299,\n\t\"./th.svg\": 300,\n\t\"./tibet.svg\": 301,\n\t\"./tj.svg\": 302,\n\t\"./tk.svg\": 303,\n\t\"./tm.svg\": 304,\n\t\"./tn.svg\": 305,\n\t\"./to.svg\": 306,\n\t\"./tr.svg\": 307,\n\t\"./tt.svg\": 308,\n\t\"./tv.svg\": 309,\n\t\"./tw.svg\": 310,\n\t\"./tz.svg\": 311,\n\t\"./ua.svg\": 312,\n\t\"./ug.svg\": 313,\n\t\"./us.svg\": 314,\n\t\"./uy.svg\": 315,\n\t\"./uz.svg\": 316,\n\t\"./ve.svg\": 317,\n\t\"./vi.svg\": 318,\n\t\"./vn.svg\": 319,\n\t\"./vu.svg\": 320,\n\t\"./ws.svg\": 321,\n\t\"./ye.svg\": 322,\n\t\"./za.svg\": 323,\n\t\"./zm.svg\": 324,\n\t\"./zw.svg\": 325\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 47;"],"sourceRoot":""}